---
layout: post
title: 「译」Create ML 介绍：如何在 Xcode 10 中训练自己的机器学习模型
date: 2018-08-06 16:26:24.000000000 +09:00
---

> 本文是翻译于AppCoda社区，如有版权问题，请告知，会配合处理
> 
>  [原文地址](https://www.appcoda.com/create-ml/)


为了防止你没有关注，苹果全球开发者会议于这周开始！这是一个大事件，对苹果当前的软件和框架都做了很多的改进。其中一个框架就是 Create ML 。

去年，苹果介绍了 [Core ML](https://developer.apple.com/documentation/coreml)：一种快速的方法，可以让你用尽可能少的代码把预先训练好的机器学习模型导入到你的 app 中。今年，有了 Create ML ，苹果给了我们开发者直接在 Xcode Playgrounds 中创建自己的机器学习模型的能力！我们只需要一些数据就可以了！到目前为止， Create ML 允许文本、图片和表作为数据。然后，由于这些也是大部分 ML 应用程序的组成部分，因此这些也可以服务好你的目的。

![图片来源： Apple ]({{  site.url  }}/assets/screenshot/create-ml/p1.png)

> **编者提示：**这篇文章是用 Xcode 10 beta 和 macOS Mojave beta 构建的。为了遵循本文，请确保你的 Xcode 和 macOS 都已经升级了。


### 为什么用 Create ML
你也许会思考，为什么我会更喜欢 Create ML 呢？这是因为它的能力。 Create ML 可以利用软件内置的机器学习基础设施。当你下载  iOS 12 或 macOS Mojave 的时候，你也会下载一些机器学习框架。这样的话，当你创建自己的 ML 模型时，它就会占用更少的空间，因为大部分的数据已经在用户的设备中了。

另一个 Create ML 如此受欢迎的原因就是使用简单。使用 Create ML 你所需做的全部就是有一个广泛的数据集（文本或图片）、只需写几行代码和运行 playground ！这比其它的流行工具如 Tensorflow 和 Caffe 要简单的多了。哪些工具需要大量的代码并且没有友好的可视化界面。 Create ML 是内置在 Xcode Playgrounds ，因此会比较熟悉，最好的是，它是用 Swift 完成的！

![]({{  site.url  }}/assets/screenshot/create-ml/p2.png)

### 前提条件
在本文中，我只会向你展示如何使用 Create ML 创建你自己的 ML 模型。如果你想学习如何把 Core ML 模型导入到你的 iOS app 中，可以在[这里](https://emptywalker.github.io/2018/07/introduction-core-ml/)找到教程。

在写本文时，iOS 12 和 macOS Mojave 仍然处于测试版，为了成功的运行本文项目，你需要安装 macOS Mojave (10.14) 和 Xcode 10 测试版。我们开始吧！

### 图片分类器模型

#### 数据
我们首先从创建一个图片分类器开始。我们可以尽可能多的添加我们想要的有着尽可能多的标签的图片。你可以在[这里](https://github.com/appcoda/CreateMLQuickDemo/raw/master/resources/FruitImages.zip)下载图片。

当你打开文件夹，你会注意到有两个文件：*训练数据*和*测试数据*，每个文件都由苹果图片和香蕉图片混合组成的。在*测试数据*文件中有将近 20 张苹果图片和 20 张香蕉图片，而在*训练数据*文件中有将近 80 张苹果数据和 80 张香蕉图片。我们将使用*训练数据*的图片去训练我们的分类器，然后使用*测试数据*的图片去判断它的精确度。

![]({{  site.url  }}/assets/screenshot/create-ml/p3.png)

如果你想构建自己的图片分类器，将数据集进行 80 - 20 分割是很重要的。大约 80% 的图片当做*训练数据*，剩下的当做*测试数据*；这样的话，你的分类器就有更多的数据可以训练。在每个文件夹里面，将图片放入各自的文件夹中。并根据图片类别标签去命名这些文件夹。

![]({{  site.url  }}/assets/screenshot/create-ml/p4.jpg)

现在，让我们打开 Xcode 然后点击 *Get Started with a Playground*。当你做到这里的时候，就会打开一个新的窗口。这是很重要的一部分：在 macOS 下，选择如下所示的 `Blank` 模板。

![]({{  site.url  }}/assets/screenshot/create-ml/p5.png)

你在 macOS 下面选择 `Blank` 模板而不是在 iOS 下，是非常重要的，因为 `Create ML` 框架不支持 iOS Playground 。

命名你的 playground ，然后保存在你想保存的地方。让我们现在开始编码！