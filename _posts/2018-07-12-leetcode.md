---
layout: post
title: LeetCode failed to record
date: 2018-07-12 10:26:24.000000000 +09:00
---

åœ¨å®žçŽ°[LeetCode](https://leetcode-cn.com/)çš„é—®é¢˜è®°å½•


* ä¸¤æ•°ä¹‹å’Œ

**æœªé€šè¿‡æ–¹æ¡ˆ**

  åœ¨ä½¿ç”¨ä¸€æ¬¡éåŽ†ï¼Œç„¶åŽå¯»æ‰¾æ•°ç»„ä¸­æ˜¯å¦åŒ…å« `array.contains(tartget - nums[i])`, å†èŽ·å–`complement`çš„ç´¢å¼•ï¼Œè¯¥ç´¢å¼•å’Œiä¸ç›¸ç­‰ã€‚ä»£ç å¦‚ä¸‹:
   
```
	func twoSum(_ nums: [Int], _ target: Int) -> [Int] {
    
	    for i in 0 ..< nums.count {
	        let complement = target - nums[i]
	        if nums.contains(complement) {
	            if let index = nums.index(of: complement) {
	                if index != i {
	                    return [i, index]
	                }
	            }
	        }
	        
	    }
	    fatalError("No tow sum solution.")
	}
```

æäº¤ä»£ç çš„æ—¶å€™æœªèƒ½é€šè¿‡ç¬¬20çš„testcaseï¼Œ


![ç»“æžœ]({{ site.url }}/assets/screenshot/leet-code/p1.jpg)

æ ¹æ®ç»“æžœæç¤ºï¼Œæ˜¯åœ¨è¶…å¤§æ•°ç»„çš„æƒ…å†µä¸‹ï¼Œè¯¥ç®—æ³•ä¼šè¶…æ—¶ï¼Œè¯´æ˜Žåœ¨ä½¿ç”¨Swift Array.contains / Array.indexæ–¹æ³•åœ¨æ€§èƒ½åœ¨å¤§æ•°æ®ä¸‹å­˜åœ¨é—®é¢˜ï¼Œä¸ºæ­¤åŽ»æŸ¥çœ‹[æ–‡æ¡£ä»‹ç»](https://opensource.apple.com/source/CF/CF-550.13/CFArray.h)
> Computational Complexity
	The access time for a value in the array is guaranteed to be at
	worst O(lg N) for any implementation, current and future, but will
	often be O(1) (constant time). Linear search operations similarly
	have a worst case complexity of O(N*lg N), though typically the
	bounds will be tighter, and so on. Insertion or deletion operations
	will typically be linear in the number of values in the array, but
	may be O(N*lg N) clearly in the worst case in some implementations.
	There are no favored positions within the array for performance;
	that is, it is not necessarily faster to access values with low
	indices, or to insert or delete values with high indices, or
	whatever.
	
	â€¢ åœ¨æ•°ç»„ä¸­é€šè¿‡ä¸€ä¸ªç‰¹å®šçš„ç´¢å¼•èŽ·å–å€¼çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯`O(log n)`ï¼Œä½†é€šå¸¸åº”è¯¥æ˜¯`O(1)`ã€‚
	â€¢ æœç´¢ä¸€ä¸ªæœªçŸ¥ç´¢å¼•çš„å¯¹è±¡çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯`O(n (log n))`ï¼Œä½†ä¸€èˆ¬åº”è¯¥æ˜¯`O(n)`ã€‚
	â€¢ æ’å…¥æˆ–è€…åˆ é™¤ä¸€ä¸ªå¯¹è±¡æœ€åçš„æ—¶é—´å¤æ‚åº¦æ˜¯`O(n (log n))`ï¼Œä½†ç»å¸¸æ˜¯`O(1)`
	
	
å› æ­¤éœ€è¦å¯»æ‰¾æ€§èƒ½æ›´å¥½çš„æ–¹æ³•æ˜¯å®žçŽ°ï¼Œ`Java`ä¸­å¯ä½¿ç”¨`HashMap`é«˜æ•ˆçš„åˆ¤æ–­è¡¨ä¸­æ˜¯å¦åŒ…å«æŸä¸ª`obj`ï¼Œå¹¶ä¸”èŽ·å–è¿™ä¸ª`obj`çš„`key`,Swiftä¸­çš„`Dictionary`å¹¶æ²¡æœ‰æä¾›åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç‰¹å®š`value`ï¼Œå¹¶èŽ·å–è¯¥`value`å¯¹åº”çš„`key`ã€‚



**è¿›ä¸€æ­¥å¯»æ‰¾é«˜æ€§èƒ½æ–¹æ¡ˆäºŒ**

ç”±äºŽæˆ‘çš„ç›®çš„æ˜¯å¯»æ‰¾ç±»ä¼¼äºŽHashTableçš„é«˜æ€§èƒ½æ£€ç´¢æ–¹æ¡ˆï¼Œè€ŒSwiftçš„é›†åˆç±»åž‹éƒ½æ˜¯å±žäºŽ`Foundation`æ¡†æž¶ï¼Œ[å‚è€ƒæ–‡ç« ](https://www.jianshu.com/p/94576f18a7b2)(å°å£°è¯´ï¼šæ‰¾åˆ°äº†ä¸€ä¸ªé«˜è´¨é‡çš„ç¿»è¯‘æ–‡ç« )ï¼Œ å‘çŽ°äº†`NSOrderedSet`é›†åˆç±»åž‹ï¼Œå¯¹åº”çš„å¯å˜ç±»åž‹ä¸º`NSMutableOrderedSet`ï¼Œæ˜¯ä¸€ç§å…è®¸ä½ ä»¥ç‰¹å®šé¡ºåºå­˜å‚¨ä¸€ç»„ä¸é‡å¤å¯¹è±¡çš„æ•°æ®ç»“æž„ï¼Œå…¶ç›¸å¯¹äºŽæ•°ç»„çš„åŒºåˆ«åœ¨äºŽï¼š
> å½“å…ƒç´ é¡ºåºä»¥åŠæµ‹è¯•æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºŽé›†åˆä¸­çš„æ€§èƒ½å¾ˆé‡è¦æ—¶ï¼Œä½ å¯ä½¿ç”¨æœ‰åºçš„é›†åˆä½œä¸ºæ•°ç»„çš„å¤‡é€‰é¡¹

ðŸ˜†ðŸ˜†ðŸ˜†ï¼Œè¿™ä¸å°±æ˜¯æˆ‘æ­£è¦éœ€è¦çš„å—ï¼Œç«‹é©¬ä¿®æ”¹ä»£ç ï¼Œå°†`nums`æ•°ç»„ä½œä¸ºå‚æ•°åˆ›å»ºä¸€ä¸ª`NSOrderedSet`å¯¹è±¡ï¼Œç„¶åŽä½¿ç”¨`orderSet`åŽ»æ£€ç´¢`complement`å¹¶èŽ·å–å…¶ç´¢å¼•

```

	func twoSum(_ nums: [Int], _ target: Int) -> [Int] {
        let orderSet = NSOrderedSet(array: nums)
        for i in 0 ..< nums.count {
            let complement = target - nums[i]

            if orderSet.contains(complement) {
                if let index = nums.index(of: complement) {
                    if index != i {
                        return [i, index]
                    }
                }
            }
        }
        fatalError("No tow sum solution.")
    }
```

å†æ¬¡æäº¤ä»£ç é¡ºåˆ©é€šè¿‡æµ‹è¯•ï¼Œå¾—å‡ºç»“æžœï¼š
![OrderSetç»“æžœ]({{ site.url }}/assets/screenshot/leet-code/p2.jpeg)

**æ–¹æ¡ˆä¸‰**

æƒ³æ³•ï¼š å°†è¾“å…¥æ•°ç»„çš„æ¯ä¸ªå€¼ä½œä¸º`Key`ï¼Œå°†å…¶`Index`ä½œä¸º`Value`ï¼Œå­˜æ”¾åœ¨å­—å…¸ä¸­ï¼Œåˆ©ç”¨`Dictionary`çš„ä»¥ä¸‹ç‰¹æ€§ï¼Œå¯ä»¥å¾ˆå¤§å¯èƒ½èŽ·å–åˆ°`O(1)`çš„æ•ˆæžœï¼š

```
	1.	ä»Žå­—å…¸ä¸­èŽ·å–å€¼çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯O(n)ï¼Œä½†ä¸€èˆ¬åº”è¯¥æ˜¯O(1)ã€‚
	2.	æ’å…¥å’Œåˆ é™¤æ•°æ®çš„æ—¶é—´å¤æ‚åº¦æœ€åæ˜¯O(nÂ²)ï¼Œä½†ç”±äºŽé¡¶å±‚çš„ä¼˜åŒ–é€šå¸¸æ›´æŽ¥è¿‘O(1)ã€‚

```

å¾—åˆ°ä»£ç å¦‚ä¸‹ï¼š

```
		func twoSum(_ nums: [Int], _ target: Int) -> [Int] {
	        var dic = [Int: Int]()
	    
	        for index in 0 ..< nums.count {
	            dic[nums[index]] = index
	        }
	
	        for i in 0 ..< nums.count {
	            let complement = target - nums[i]
	            if let index = dic[complement], i != index{
	                return [i, index]
	            }
	        }
	        fatalError("No tow sum solution.")
	    }
```
é¦–å…ˆéåŽ†`nums`ï¼Œå°†`nums[i]`ä½œä¸º`key`ï¼Œ`i`ä½œä¸º`value`å­˜æ”¾åœ¨å­—å…¸ä¸­ï¼Œç„¶åŽå†è¿›è¡Œä¸€æ¬¡éåŽ†ï¼Œåˆ©ç”¨`complement`ä»Žå­—å…¸ä¸­å–`index`ï¼Œå¦‚æžœå­˜åœ¨`index && index != i`ï¼Œ é‚£ä¹ˆå°±çš„æˆ‘ä»¬éœ€è¦çš„ç»“æžœ`[i, index]`ï¼Œ é€šè¿‡æµ‹è¯•ï¼Œæäº¤ç­”æ¡ˆï¼Œå¾—åˆ°é€šè¿‡ç»“æžœå¦‚ä¸‹ï¼š

![ç»“æžœ]({{ site.url }}/assets/screenshot/leet-code/p3.jpeg)

ç”±ç»“æžœå¯ä»¥çœ‹å‡ºè¿™ç§æ–¹å¼åªéœ€è¦24msï¼Œç›¸å¯¹OrderSetæ–¹å¼80msæœ‰äº†3å€å¤šçš„æå‡ï¼Œè¯´æ˜Žæƒ³æ³•æˆç«‹ã€‚

